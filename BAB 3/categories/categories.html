<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daftar Kategori</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <header style="background:#01a701;color:#fff;padding:14px 20px;">
    <div style="font-weight:700;">Daftar Kategori</div>
    <nav>
      <a href="categories-entry.html" style="color:#fff;text-decoration:none;margin-right:12px;">+ Tambah</a>
      <a href="../admin.html" style="color:#fff;text-decoration:none;">Kembali</a>
    </nav>
  </header>

  <main style="max-width:900px;margin:40px auto;padding:16px;">
    <table style="width:100%;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,.08);">
      <thead style="background:#04a71f;color:#fff;">
        <tr><th style="padding:14px;text-align:left;">No</th><th>Nama</th><th>Dibuat</th><th>Aksi</th></tr>
      </thead>
      <tbody id="catBody" style="background:#fff;"></tbody>
    </table>
  </main>

  <script>
    function load() {
      const cats = JSON.parse(localStorage.getItem('categories') || '[]');
      const tbody = document.getElementById('catBody');
      tbody.innerHTML = cats.map((c, i) => `
        <tr style="border-bottom:1px solid #eee;">
          <td style="padding:12px;">${i+1}</td>
          <td>${c.name}</td>
          <td>${c.createdAt}</td>
          <td><button onclick="del(${i})" style="background:#ef4444;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer;font-size:.8rem;">Hapus</button></td>
        </tr>
      `).join('') || '<tr><td colspan="4" style="text-align:center;padding:20px;color:#9ca3af;">Belum ada data</td></tr>';
    }
    function del(i) {
      if (confirm('Hapus?')) {
        const cats = JSON.parse(localStorage.getItem('categories') || '[]');
        cats.splice(i, 1);
        localStorage.setItem('categories', JSON.stringify(cats));
        load();
      }
    }
    window.onload = load;
  </script>
</body>
</html>